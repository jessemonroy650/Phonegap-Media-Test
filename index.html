<!DOCTYPE html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>PhoneGap Media Play Test</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="buttons.css" />
    <style>
    body {margin:0px;}
    .hidden {visibility:collapse;display:none;}
    .expose {visibility:visible;display:block;} /* Here for completeness only. */
    .copyright {padding:5px;align:left;font-style:italic;font-size:small;}
    </style>
    <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
    <script type="text/javascript">
	function onSuccess() {};
	function onError(e) {alert('err.code:' + e.code + '\nerr.message:' + e.message)};
    var my_media = null;
    var mediaTimer = null;
    // Wait for PhoneGap to load
    document.addEventListener("deviceready", onDeviceReady, false);
    function onDeviceReady() {
		// hide Exit button. They don't have one on iOS devices.
		if (device.platform === "iOS") {
			//alert("got iOS");
			// http://www.mzcart.com/javascript-how-to-addremove-css-class-from-a-dom-element/
			document.getElementById('exitApp').classList.add("hidden");
		}
        // Don't do much with this right now. Just play it.
		var audioFile = "";
		if (device.platform == 'Android') {
	        audioFile = "/android_asset/www/PeppersPatch1.ogg";
		} else {
	        audioFile = "ice_cream_truck.wav";
		}
        my_media = new Media(audioFile, onSuccess, onError);
		my_media.play({ numberOfLoops: 99 });
    }
    </script>
</head>
<body>
<div class="button button-block button-large"><img align=left src=favicon-48x48.png>Phonegap Media Test</div>

<button id=exitApp onclick='navigator.app.exitApp()' class="button button-pill button-primary button-large" style="margin:1em;">Exit</button>

<div class="copyright" style="padding:5px;align:left;font-style:italic;font-size:small;">
    <span id=copyright>Created by Jesus Monroy, Jr. &copy; 2015</span>
</div>
</body>
</html>
